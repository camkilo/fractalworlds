# Fractal Fantasy Worlds

**Epic, immersive fantasy world where nature, creatures, and structures are generated by fractals, logic, and math patterns.**

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Python](https://img.shields.io/badge/python-3.7+-blue.svg)

## ğŸŒŸ Features

### World Generation
- **Fractal Terrain**: Diamond-square algorithm for realistic, procedurally generated landscapes
- **Dynamic Biomes**: 7+ biome types generated using mathematical rules (forests, mountains, plains, deserts, swamps, tundra, magical groves)
- **Algorithmic Rivers**: Water flow simulation using gradient descent algorithms
- **Procedural Forests**: L-system tree generation for complex, natural-looking vegetation

### Creatures & Entities
- **Geometric Creatures**: 6+ unique creature types with mathematically-defined patterns
  - Fractal Dragons (Mandelbrot patterns)
  - Geometric Wolves (Hexagonal patterns)
  - Spiral Serpents (Fibonacci spirals)
  - Crystal Spiders (Octahedral geometry)
  - Pattern Birds (Recursive patterns)
  - Golden Bears (Golden ratio proportions)
- **Intelligent Movement**: Mathematical movement patterns (circular, spiral, zigzag, wave, LÃ©vy flight)
- **Animated Behaviors**: Breathing, idle movements, and dynamic interactions

### Structures
- **Fractal Architecture**: Buildings and structures generated using recursive patterns
- **Sacred Geometry**: Temples with mandala and geometric designs
- **Magical Elements**: Crystal spires, mystic gateways, ancient observatories
- **Glowing Runes**: Animated magical inscriptions and effects

### Visual Effects
- **Cinematic Lighting**: Point lights, spot lights, area lights with realistic attenuation
- **Glowing Magical Effects**: Particle systems for sparkles, auras, energy bursts
- **Dynamic Sky**: Procedural clouds, sun/moon cycles, auroras, stars with constellations
- **Volumetric Effects**: God rays, volumetric fog, light shafts
- **Advanced Post-Processing**: Bloom, depth of field, motion blur, color grading, chromatic aberration

### Technical Features
- **Realistic Textures**: Procedural texture generation with normal maps, displacement, roughness
- **Subtle Animations**: Wind effects, tree swaying, water flow, ambient movements
- **Configurable System**: JSON-based configuration for all world parameters
- **Performance Optimized**: LOD system, culling, efficient algorithms

## ğŸš€ Quick Start

### Installation

```bash
# Clone the repository
git clone https://github.com/camkilo/fractalworlds.git
cd fractalworlds

# Install dependencies
pip install -r requirements.txt
```

### Basic Usage

```python
from fractal_world import FractalWorld, WorldConfig

# Create a world with default settings
world = FractalWorld()
world.generate_world()
world.print_world_summary()
world.save_world("my_world.json")
```

### Custom Configuration

```python
from fractal_world import FractalWorld, WorldConfig

# Create custom configuration
config = WorldConfig(
    seed=12345,
    world_size=256,
    fractal_iterations=8,
    terrain_roughness=0.6,
    tree_density=0.5,
    creature_density=0.15,
    magic_intensity=0.8,
    lighting_quality="cinematic",
    enable_animations=True
)

world = FractalWorld(config)
world.generate_world()
```

### Run Examples

```bash
# Interactive examples menu
python examples.py

# Or run the main demo
python fractal_world.py
```

## ğŸ“š Documentation

### World Configuration Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `seed` | int | 42 | Random seed for reproducible worlds |
| `world_size` | int | 512 | Size of the world grid (NxN) |
| `fractal_iterations` | int | 8 | Detail level for fractal generation |
| `terrain_roughness` | float | 0.6 | How rough/smooth the terrain is (0-1) |
| `water_level` | float | 0.3 | Sea level threshold (0-1) |
| `tree_density` | float | 0.4 | Forest density (0-1) |
| `creature_density` | float | 0.1 | Creature spawn rate (0-1) |
| `magic_intensity` | float | 0.7 | Strength of magical effects (0-1) |
| `lighting_quality` | str | "cinematic" | Lighting quality preset |
| `enable_animations` | bool | True | Enable subtle animations |

### Biome Types

1. **Forest**: Dense vegetation with procedural trees
2. **Mountains**: High elevation rocky terrain
3. **Plains**: Flat grasslands with scattered features
4. **Desert**: Sandy terrain with sparse vegetation
5. **Swamp**: Low elevation wetlands
6. **Tundra**: Frozen landscapes with minimal vegetation
7. **Magical Grove**: Enchanted forests with glowing effects

### Creature Patterns

- **Mandelbrot**: Complex fractal patterns for dragons
- **Hexagonal**: Six-sided geometric patterns for wolves
- **Fibonacci**: Spiral patterns for serpents
- **Octahedral**: Eight-faced crystal patterns for spiders
- **Recursive**: Self-similar patterns for birds
- **Golden Ratio**: Proportions based on Ï† (phi) for bears

### Visual Effects System

```python
from visual_effects import (
    MagicalEffects, LightingSystem, AnimationSystem,
    TextureSystem, create_post_processing_stack
)

# Create magical effects
magic = MagicalEffects(magic_intensity=0.8)
glow = magic.create_glow_effect(
    position=(100, 100, 50),
    color=(138, 43, 226),
    intensity=0.8,
    radius=5.0
)

# Setup lighting
lighting = LightingSystem(quality="cinematic")
lighting.add_point_light(
    position=(128, 128, 100),
    color=(255, 250, 205),
    intensity=1.0,
    radius=50.0
)

# Create animations
animation = AnimationSystem()
tree_anim = animation.create_idle_animation("tree")
wind = animation.create_wind_animation(intensity=0.6)

# Generate textures
textures = TextureSystem()
terrain_tex = textures.generate_terrain_texture("forest", height=0.5, moisture=0.7)

# Setup post-processing
post_effects = create_post_processing_stack("cinematic")
```

## ğŸ® Integration with Game Engines

The generated world data is exported as JSON and can be integrated with:

- **Unity**: Import terrain data, spawn creatures at positions, apply lighting
- **Unreal Engine**: Use procedural generation system to instantiate world
- **Godot**: Load JSON data and create game objects
- **Custom Engines**: Parse JSON structure and render accordingly

### Example World Data Structure

```json
{
  "config": { "seed": 42, "world_size": 256, ... },
  "terrain_stats": { "min_elevation": 0.0, "max_elevation": 1.0, ... },
  "forests": [ { "center": [x, y], "trees": [...] } ],
  "rivers": [ { "path": [[x, y, z], ...], "width": 5.0 } ],
  "creatures": [ { "type": "Fractal Dragon", "position": [x, y, z], ... } ],
  "structures": [ { "type": "Crystal Spire", "position": [x, y, z], ... } ],
  "lighting": { "ambient": {...}, "directional": {...}, ... },
  "sky": { "type": "dynamic", "cloud_coverage": 0.5, ... }
}
```

## ğŸ¨ Visual Features

### Cinematic Lighting
- Ambient occlusion for realistic shadowing
- Global illumination with multiple light bounces
- Dynamic shadows with configurable quality
- Volumetric lighting (god rays, fog)
- Point, spot, and area lights

### Particle Systems
- Magical sparkles
- Mystical auras
- Energy bursts
- Fairy dust
- Arcane streams
- Customizable particle counts, velocities, and patterns

### Post-Processing Effects
- Bloom for glowing effects
- Depth of field for cinematic focus
- Motion blur for smooth movement
- Color grading for atmosphere
- Chromatic aberration for realism
- Film grain and vignette
- TAA/FXAA anti-aliasing

### Animation Systems
- Tree swaying with wind response
- Leaf rustling
- Creature breathing and idle movements
- Water flow and ripples
- Ambient glow pulsing
- Rune flickering

## ğŸ“Š Examples

Run the examples script to see different world generation scenarios:

1. **Basic World**: Standard fantasy world with balanced settings
2. **High Magic World**: Maximum magical effects and creature density
3. **Creature Showcase**: Focus on diverse creature generation
4. **Visual Effects Demo**: Demonstration of all visual systems
5. **Custom Configuration**: Load from config.json

## ğŸ”§ Advanced Usage

### Custom Creature Types

```python
# Add your own creature patterns
custom_creature = {
    "name": "Phoenix",
    "pattern": "spiral",
    "size": "large",
    "magic": 0.95,
    "color_palette": [(255, 69, 0), (255, 140, 0), (255, 215, 0)],
    "glow_intensity": 1.0
}
```

### Custom Structure Generation

```python
# Generate custom fractal structures
structure = {
    "type": "Wizard Tower",
    "fractal_iterations": 10,
    "style": "recursive",
    "height": 50,
    "glow_intensity": 0.9
}
```

## ğŸ—ï¸ Project Structure

```
fractalworlds/
â”œâ”€â”€ fractal_world.py      # Main world generation engine
â”œâ”€â”€ visual_effects.py     # Visual effects and rendering systems
â”œâ”€â”€ examples.py           # Example usage scripts
â”œâ”€â”€ config.json           # Configuration file
â”œâ”€â”€ requirements.txt      # Python dependencies
â””â”€â”€ README.md            # This file
```

## ğŸ¯ Use Cases

- **RPG Game Development**: Generate endless procedural worlds
- **Visualization**: Create beautiful fractal landscapes
- **Education**: Learn about fractals and procedural generation
- **Art**: Generate unique fantasy environments
- **Research**: Study procedural generation algorithms

## ğŸ¤ Contributing

Contributions are welcome! Areas for improvement:

- Additional biome types
- More creature patterns
- Advanced weather systems
- Quest generation based on world features
- Multiplayer server integration
- Real-time rendering optimization

## ğŸ“ License

This project is open source and available under the MIT License.

## ğŸŒˆ Gallery

Generated worlds feature:
- âœ¨ Glowing magical groves with bioluminescent vegetation
- ğŸ”ï¸ Majestic mountain ranges with fractal peaks
- ğŸŒŠ Rivers that naturally flow from mountains to sea
- ğŸ‰ Creatures with mathematically perfect geometric patterns
- ğŸ° Structures that follow sacred geometry principles
- ğŸŒ… Dynamic skies with realistic atmospheric effects
- ğŸ’« Particle effects for spells and magical phenomena

## ğŸ“ Technical Details

### Algorithms Used
- **Diamond-Square**: Fractal terrain generation
- **L-Systems**: Tree and vegetation generation
- **Perlin/Simplex Noise**: Moisture and detail maps
- **Gradient Descent**: River flow simulation
- **Fibonacci Spirals**: Creature and structure patterns
- **Mandelbrot Sets**: Complex fractal patterns
- **Golden Ratio**: Aesthetic proportions

### Mathematical Foundations
- Fractal dimension theory
- Recursive pattern generation
- Geometric transformations
- Procedural noise functions
- Flow field algorithms
- Sacred geometry principles

## ğŸš€ Future Roadmap

- [ ] 3D mesh export (OBJ, FBX)
- [ ] Real-time WebGL viewer
- [ ] Multiplayer synchronization
- [ ] Quest and NPC generation
- [ ] Day/night cycle simulation
- [ ] Weather system
- [ ] Sound generation
- [ ] VR support

---

**Created with â¤ï¸ for the procedural generation community**

*Unleash your imagination with mathematically perfect fantasy worlds!*
