# Fractal Worlds - Fully Playable RPG

**Epic, immersive fantasy RPG where nature, creatures, and structures are generated by fractals, logic, and math patterns. Fully playable with crafting, combat, spells, AI, and dynamic gameplay!**

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Python](https://img.shields.io/badge/python-3.7+-blue.svg)
![Status](https://img.shields.io/badge/status-playable-brightgreen.svg)

## ğŸ® Now Fully Playable!

Fractal Worlds is a **complete, playable RPG** featuring:
- ğŸ¯ Full player character with stats, skills, and progression
- âš”ï¸ Emergent physics-based combat system
- ğŸ”® Pattern-based spell casting with 8+ spells
- ğŸ”¨ Logic-driven crafting with 5+ recipes
- ğŸ§¬ Creature AI with DNA-like behavioral patterns
- ğŸŒ Dynamic ecosystem simulation
- ğŸ§© Algorithmic puzzles to solve
- ğŸ’¾ Complete save/load system

## ğŸŒŸ Features

### World Generation
- **Fractal Terrain**: Diamond-square algorithm for realistic, procedurally generated landscapes
- **Dynamic Biomes**: 7+ biome types generated using mathematical rules (forests, mountains, plains, deserts, swamps, tundra, magical groves)
- **Algorithmic Rivers**: Water flow simulation using gradient descent algorithms
- **Procedural Forests**: L-system tree generation for complex, natural-looking vegetation

### Creatures & Entities
- **Geometric Creatures**: 6+ unique creature types with mathematically-defined patterns
  - Fractal Dragons (Mandelbrot patterns)
  - Geometric Wolves (Hexagonal patterns)
  - Spiral Serpents (Fibonacci spirals)
  - Crystal Spiders (Octahedral geometry)
  - Pattern Birds (Recursive patterns)
  - Golden Bears (Golden ratio proportions)
- **Intelligent Movement**: Mathematical movement patterns (circular, spiral, zigzag, wave, LÃ©vy flight)
- **Animated Behaviors**: Breathing, idle movements, and dynamic interactions

### Structures
- **Fractal Architecture**: Buildings and structures generated using recursive patterns
- **Sacred Geometry**: Temples with mandala and geometric designs
- **Magical Elements**: Crystal spires, mystic gateways, ancient observatories
- **Glowing Runes**: Animated magical inscriptions and effects

### Visual Effects
- **Cinematic Lighting**: Point lights, spot lights, area lights with realistic attenuation
- **Glowing Magical Effects**: Particle systems for sparkles, auras, energy bursts
- **Dynamic Sky**: Procedural clouds, sun/moon cycles, auroras, stars with constellations
- **Volumetric Effects**: God rays, volumetric fog, light shafts
- **Advanced Post-Processing**: Bloom, depth of field, motion blur, color grading, chromatic aberration

### Technical Features
- **Realistic Textures**: Procedural texture generation with normal maps, displacement, roughness
- **Subtle Animations**: Wind effects, tree swaying, water flow, ambient movements
- **Configurable System**: JSON-based configuration for all world parameters
- **Performance Optimized**: LOD system, culling, efficient algorithms

## ğŸ® Gameplay Systems

### Player & Character
- **Full RPG Stats**: Health, Mana, Stamina, Strength, Intelligence, Agility, Logic Mastery
- **Skill System**: Combat, Magic, Crafting, Exploration, Logic skills that improve with use
- **Level Progression**: Gain experience and level up to unlock new abilities
- **Inventory Management**: Collect, craft, and equip items
- **Equipment System**: Weapons, armor, and accessories with elemental properties

### Combat System
- **Emergent Combat**: Physics and probability-based battle mechanics
- **Critical Hits**: Chance-based critical strikes for extra damage
- **Elemental Interactions**: Fire > Nature > Earth > Air > Fire advantage system
- **Environmental Factors**: Terrain modifiers affect combat outcomes
- **Stamina-Based Actions**: Strategic resource management in battles

### Magic & Spells
- **Pattern-Based Casting**: Spells use vectors, sequences, symbolic logic, or fractals
- **8+ Unique Spells**: From Fireball to Fractal Storm
- **Power Scaling**: Spell power increases with intelligence and logic mastery
- **Mana System**: Strategic mana management for spell casting
- **Visual Effects**: Each spell has unique particle effects and animations

### Crafting System
- **Logic-Based Recipes**: Combine elements using logical formulas
- **5+ Craftable Items**: Weapons, armor, spell runes, and more
- **Element Fusion**: Mix Fire, Water, Earth, Air, Light, Dark, Nature, Arcane
- **Recipe Discovery**: Experiment to discover new recipes
- **Skill Progression**: Crafting skill improves, unlocking advanced recipes

### AI & Ecosystem
- **DNA-Like Behavior**: Each creature has unique behavioral DNA patterns
- **Predator-Prey Dynamics**: Creatures hunt, flee, and socialize based on AI
- **Territorial Behavior**: Creatures defend their territories
- **Social Interactions**: Creatures form groups and interact dynamically
- **Population Simulation**: Ecosystem evolves over time

### Puzzles & Challenges
- **Algorithmic Puzzles**: Fibonacci sequences, prime numbers, logic circuits
- **Pattern Recognition**: Fractal patterns and symbolic logic
- **Rewards System**: Experience, items, and spell rewards for solving
- **5+ Puzzle Types**: Sequence, logic, pattern, mathematical challenges

### Interactive Environment
- **Resource Gathering**: Collect materials from forests and magical sites
- **Resource Nodes**: 70+ procedurally placed gathering points
- **Terrain Modification**: Destructible and modifiable environments
- **Dynamic Resources**: Resources regenerate over time

## ğŸš€ Quick Start

### Installation

```bash
# Clone the repository
git clone https://github.com/camkilo/fractalworlds.git
cd fractalworlds

# Install dependencies
pip install -r requirements.txt
```

### Basic Usage

```python
from fractal_world import FractalWorld, WorldConfig

# Create a world with default settings
world = FractalWorld()
world.generate_world()
world.print_world_summary()
world.save_world("my_world.json")
```

### Custom Configuration

```python
from fractal_world import FractalWorld, WorldConfig

# Create custom configuration
config = WorldConfig(
    seed=12345,
    world_size=256,
    fractal_iterations=8,
    terrain_roughness=0.6,
    tree_density=0.5,
    creature_density=0.15,
    magic_intensity=0.8,
    lighting_quality="cinematic",
    enable_animations=True
)

world = FractalWorld(config)
world.generate_world()
```

### Run Examples

```bash
# Run world generation demo
python fractal_world.py

# Run gameplay examples (interactive)
python gameplay_examples.py

# Run full RPG demo
python game_integration.py

# Or use the original examples
python examples.py
```

## ğŸ® Playing the Game

### Start a New Game

```python
from game_integration import FractalRPG
from fractal_world import WorldConfig

# Create game with custom world
config = WorldConfig(
    seed=12345,
    world_size=256,
    creature_density=0.2,
    magic_intensity=0.8
)

game = FractalRPG(config, player_name="YourName")
game.initialize_game()

# Play!
game.demo_gameplay()
```

### Gameplay Actions

```python
# Movement
game.play_turn("move", direction=(10, 5, 0), distance=15.0)

# Gather resources
game.play_turn("gather")

# Cast spells
game.play_turn("cast_spell", spell="Fireball", target=(x, y, z))

# Craft items
game.play_turn("craft", recipe="Fire Sword")

# Combat
game.play_turn("attack")

# Rest to recover
game.play_turn("rest")

# Solve puzzles
game.play_turn("solve_puzzle", puzzle="Fibonacci Lock", answer=[21, 34, 55])

# Check status
game.play_turn("status")
```

### Explore Your Surroundings

```python
# Check nearby entities
game.print_nearby(radius=50.0)

# View player status
game.print_status()

# Save your game
game.save_game("my_adventure.json")
```

## ğŸ“š Gameplay Examples

### Example 1: Exploration

```python
from gameplay_examples import example_exploration
example_exploration()
```

### Example 2: Crafting

```python
from gameplay_examples import example_crafting
example_crafting()
```

### Example 3: Combat

```python
from gameplay_examples import example_combat
example_combat()
```

### Example 4: Magic

```python
from gameplay_examples import example_magic
example_magic()
```

Run `python gameplay_examples.py` for an interactive menu of all examples!

## ğŸ“š Documentation

### World Configuration Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `seed` | int | 42 | Random seed for reproducible worlds |
| `world_size` | int | 512 | Size of the world grid (NxN) |
| `fractal_iterations` | int | 8 | Detail level for fractal generation |
| `terrain_roughness` | float | 0.6 | How rough/smooth the terrain is (0-1) |
| `water_level` | float | 0.3 | Sea level threshold (0-1) |
| `tree_density` | float | 0.4 | Forest density (0-1) |
| `creature_density` | float | 0.1 | Creature spawn rate (0-1) |
| `magic_intensity` | float | 0.7 | Strength of magical effects (0-1) |
| `lighting_quality` | str | "cinematic" | Lighting quality preset |
| `enable_animations` | bool | True | Enable subtle animations |

### Biome Types

1. **Forest**: Dense vegetation with procedural trees
2. **Mountains**: High elevation rocky terrain
3. **Plains**: Flat grasslands with scattered features
4. **Desert**: Sandy terrain with sparse vegetation
5. **Swamp**: Low elevation wetlands
6. **Tundra**: Frozen landscapes with minimal vegetation
7. **Magical Grove**: Enchanted forests with glowing effects

### Creature Patterns

- **Mandelbrot**: Complex fractal patterns for dragons
- **Hexagonal**: Six-sided geometric patterns for wolves
- **Fibonacci**: Spiral patterns for serpents
- **Octahedral**: Eight-faced crystal patterns for spiders
- **Recursive**: Self-similar patterns for birds
- **Golden Ratio**: Proportions based on Ï† (phi) for bears

### Visual Effects System

```python
from visual_effects import (
    MagicalEffects, LightingSystem, AnimationSystem,
    TextureSystem, create_post_processing_stack
)

# Create magical effects
magic = MagicalEffects(magic_intensity=0.8)
glow = magic.create_glow_effect(
    position=(100, 100, 50),
    color=(138, 43, 226),
    intensity=0.8,
    radius=5.0
)

# Setup lighting
lighting = LightingSystem(quality="cinematic")
lighting.add_point_light(
    position=(128, 128, 100),
    color=(255, 250, 205),
    intensity=1.0,
    radius=50.0
)

# Create animations
animation = AnimationSystem()
tree_anim = animation.create_idle_animation("tree")
wind = animation.create_wind_animation(intensity=0.6)

# Generate textures
textures = TextureSystem()
terrain_tex = textures.generate_terrain_texture("forest", height=0.5, moisture=0.7)

# Setup post-processing
post_effects = create_post_processing_stack("cinematic")
```

## ğŸ® Gameplay Reference

### Available Spells

| Spell Name | Pattern | Elements | Base Power | Mana Cost | Description |
|------------|---------|----------|------------|-----------|-------------|
| Fireball | Vector | Fire | 30 | 15 | Hurls a ball of fire |
| Ice Shard | Vector | Water | 25 | 12 | Shoots ice projectiles |
| Lightning Chain | Sequence | Air, Arcane | 35 | 20 | Chains between targets |
| Healing Light | Symbolic Logic | Light, Nature | 40 | 25 | Restores health |
| Shadow Step | Symbolic Logic | Dark, Air | 20 | 18 | Teleport through shadows |
| Fractal Storm | Fractal | Arcane, Air, Water | 80 | 50 | Devastating storm |
| Earth Wall | Vector | Earth | 35 | 20 | Protective earth wall |
| Nature's Wrath | Sequence | Nature, Earth | 45 | 28 | Entangling vines |

### Craftable Items

| Item | Pattern | Required Elements | Properties |
|------|---------|-------------------|------------|
| Fire Sword | Element Fusion | Fire (3), Earth (2) | 25 damage, 10 fire damage |
| Ice Staff | Element Fusion | Water (3), Arcane (2) | 30 magic damage, 15 ice damage |
| Nature Bow | Element Fusion | Nature (4), Air (1) | 20 damage, 50 range, poison |
| Crystal Armor | Geometric Fusion | Earth (5), Light (2) | 40 defense, light resistance |
| Arcane Rune | Symbolic Logic | Arcane (2), Light (1), Dark (1) | 1.5x spell power bonus |

### Element Interactions

**Advantages (1.5x damage):**
- Fire â†’ Nature, Earth
- Water â†’ Fire  
- Earth â†’ Air, Water
- Air â†’ Fire
- Light â†’ Dark
- Dark â†’ Light
- Nature â†’ Water, Earth

### Puzzles

| Puzzle | Type | Difficulty | Reward |
|--------|------|-----------|---------|
| Fibonacci Lock | Sequence | 2 | Ancient Key |
| Element Balance | Logic | 3 | Elemental Orb |
| Fractal Pattern | Pattern | 4 | Fractal Storm Spell |
| Prime Gate | Mathematical | 2 | Gate Crystal |
| Logic Circuit | Logic | 3 | Logic Gem |

## ğŸ® Integration with Game Engines

The generated world data is exported as JSON and can be integrated with:

- **Unity**: Import terrain data, spawn creatures at positions, apply lighting
- **Unreal Engine**: Use procedural generation system to instantiate world
- **Godot**: Load JSON data and create game objects
- **Custom Engines**: Parse JSON structure and render accordingly

### Example World Data Structure

```json
{
  "config": { "seed": 42, "world_size": 256, ... },
  "terrain_stats": { "min_elevation": 0.0, "max_elevation": 1.0, ... },
  "forests": [ { "center": [x, y], "trees": [...] } ],
  "rivers": [ { "path": [[x, y, z], ...], "width": 5.0 } ],
  "creatures": [ { "type": "Fractal Dragon", "position": [x, y, z], ... } ],
  "structures": [ { "type": "Crystal Spire", "position": [x, y, z], ... } ],
  "lighting": { "ambient": {...}, "directional": {...}, ... },
  "sky": { "type": "dynamic", "cloud_coverage": 0.5, ... }
}
```

## ğŸ¨ Visual Features

### Cinematic Lighting
- Ambient occlusion for realistic shadowing
- Global illumination with multiple light bounces
- Dynamic shadows with configurable quality
- Volumetric lighting (god rays, fog)
- Point, spot, and area lights

### Particle Systems
- Magical sparkles
- Mystical auras
- Energy bursts
- Fairy dust
- Arcane streams
- Customizable particle counts, velocities, and patterns

### Post-Processing Effects
- Bloom for glowing effects
- Depth of field for cinematic focus
- Motion blur for smooth movement
- Color grading for atmosphere
- Chromatic aberration for realism
- Film grain and vignette
- TAA/FXAA anti-aliasing

### Animation Systems
- Tree swaying with wind response
- Leaf rustling
- Creature breathing and idle movements
- Water flow and ripples
- Ambient glow pulsing
- Rune flickering

## ğŸ“Š Examples

Run the examples script to see different world generation scenarios:

1. **Basic World**: Standard fantasy world with balanced settings
2. **High Magic World**: Maximum magical effects and creature density
3. **Creature Showcase**: Focus on diverse creature generation
4. **Visual Effects Demo**: Demonstration of all visual systems
5. **Custom Configuration**: Load from config.json

## ğŸ”§ Advanced Usage

### Custom Creature Types

```python
# Add your own creature patterns
custom_creature = {
    "name": "Phoenix",
    "pattern": "spiral",
    "size": "large",
    "magic": 0.95,
    "color_palette": [(255, 69, 0), (255, 140, 0), (255, 215, 0)],
    "glow_intensity": 1.0
}
```

### Custom Structure Generation

```python
# Generate custom fractal structures
structure = {
    "type": "Wizard Tower",
    "fractal_iterations": 10,
    "style": "recursive",
    "height": 50,
    "glow_intensity": 0.9
}
```

## ğŸ—ï¸ Project Structure

```
fractalworlds/
â”œâ”€â”€ fractal_world.py         # Main world generation engine (666 lines)
â”œâ”€â”€ visual_effects.py        # Visual effects and rendering systems (607 lines)
â”œâ”€â”€ gameplay.py              # Core gameplay systems (1100+ lines)
â”œâ”€â”€ game_integration.py      # RPG integration (560+ lines)
â”œâ”€â”€ gameplay_examples.py     # Interactive gameplay examples (350+ lines)
â”œâ”€â”€ examples.py              # World generation examples (268 lines)
â”œâ”€â”€ config.json              # Configuration file
â”œâ”€â”€ requirements.txt         # Python dependencies
â”œâ”€â”€ README.md                # This file
â”œâ”€â”€ FEATURES.md              # Detailed feature list
â””â”€â”€ QUICKSTART.md            # Quick start guide
```

## ğŸ¯ Use Cases

- **âœ… Fully Playable RPG**: Complete game with all mechanics implemented
- **ğŸ® RPG Game Development**: Use as foundation for your own RPG
- **ğŸ“š Educational Tool**: Learn about procedural generation and game systems
- **ğŸ”¬ Research Platform**: Study AI, ecosystems, and emergent gameplay
- **ğŸ¨ Procedural Art**: Generate unique fantasy environments
- **ğŸŒ Game Engine Integration**: Export to Unity, Unreal, Godot

## ğŸ¤ Contributing

Contributions are welcome! The game is fully functional with:

**âœ… Implemented:**
- Complete RPG gameplay mechanics
- Player character with full stats and progression
- Combat, magic, crafting, and puzzles
- Dynamic AI and ecosystem simulation
- Interactive environment
- Save/load system

**Future Enhancements:**
- Additional spell types and crafting recipes
- More puzzle varieties
- Quest generation system
- Multiplayer features
- Real-time 3D rendering
- Advanced weather and day/night cycles
- NPC dialogue system

## ğŸ“ License

This project is open source and available under the MIT License.

## ğŸŒˆ Gallery

Generated worlds feature:
- âœ¨ Glowing magical groves with bioluminescent vegetation
- ğŸ”ï¸ Majestic mountain ranges with fractal peaks
- ğŸŒŠ Rivers that naturally flow from mountains to sea
- ğŸ‰ Creatures with mathematically perfect geometric patterns
- ğŸ° Structures that follow sacred geometry principles
- ğŸŒ… Dynamic skies with realistic atmospheric effects
- ğŸ’« Particle effects for spells and magical phenomena

## ğŸ“ Technical Details

### Algorithms Used
- **Diamond-Square**: Fractal terrain generation
- **L-Systems**: Tree and vegetation generation
- **Perlin/Simplex Noise**: Moisture and detail maps
- **Gradient Descent**: River flow simulation
- **Fibonacci Spirals**: Creature and structure patterns
- **Mandelbrot Sets**: Complex fractal patterns
- **Golden Ratio**: Aesthetic proportions

### Mathematical Foundations
- Fractal dimension theory
- Recursive pattern generation
- Geometric transformations
- Procedural noise functions
- Flow field algorithms
- Sacred geometry principles

## ğŸš€ Future Roadmap

- [x] Full RPG gameplay implementation
- [x] Player character and progression
- [x] Combat system
- [x] Magic and spell casting
- [x] Crafting system
- [x] AI and ecosystem
- [x] Puzzles and challenges
- [x] Save/load functionality
- [ ] Quest generation system
- [ ] NPC dialogue and factions
- [ ] 3D mesh export (OBJ, FBX)
- [ ] Real-time WebGL viewer
- [ ] Multiplayer synchronization
- [ ] Day/night cycle simulation
- [ ] Advanced weather system
- [ ] Sound generation
- [ ] VR support

---

**Created with â¤ï¸ for the procedural generation community**

*Unleash your imagination with mathematically perfect fantasy worlds!*
